{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "SDK (foundation layer) configuration",
  "extends": [
    "local>happyvertical/renovate-config",
    "local>happyvertical/renovate-config:monorepo",
    "local>happyvertical/renovate-config:pnpm"
  ],
  "labels": ["dependencies", "renovate", "sdk"],
  "packageRules": [
    {
      "description": "Don't pin engines (node/pnpm) - breaks postUpgradeTasks when Renovate container has different versions",
      "matchDepTypes": ["engines"],
      "rangeStrategy": "replace"
    },
    {
      "description": "SDK is foundation - be conservative with major updates",
      "matchUpdateTypes": ["major"],
      "automerge": false,
      "labels": ["dependencies", "major", "needs-review"]
    },
    {
      "description": "Automerge all patch updates",
      "matchUpdateTypes": ["patch"],
      "automerge": true
    },
    {
      "description": "Automerge minor updates for dev dependencies",
      "matchDepTypes": ["devDependencies"],
      "matchUpdateTypes": ["minor"],
      "automerge": true
    }
  ]
}
